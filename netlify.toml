# Settings in the [build] context are global and are applied to all contexts
# unless otherwise overridden by more specific contexts.
[build]
# Directory that contains the deploy-ready HTML files and assets generated by
# the build. This is relative to the base directory if one has been set, or the
# root directory if a base has not been set. This sample publishes the
# directory located at the absolute path "root/project/build-output"
publish = "out/"

# Default build command.
command = "npm run build"

[build.environment]
# Environment variables are set here

NODE_VERSION = "20.18.0"

# For apps that use next export to generate static HTML
# set the NETLIFY_NEXT_PLUGIN_SKIP to true.
NETLIFY_NEXT_PLUGIN_SKIP = "true"

# Redirects and headers are GLOBAL for all builds â€“ they do not get scoped to
# contexts no matter where you define them in the file.
# For context-specific rules, use _headers or _redirects files, which are
# PER-DEPLOY.

# A basic redirect rule
[[redirects]]
from = "/docs/overview"
to = "/tokio/tutorial"

# Previous setup steps were moved to the main tutorial page
[[redirects]]
from = "/tokio/tutorial/setup"
to = "/tokio/tutorial"

# Redirect previous rss feed location
[[redirects]]
from = "/_next/static/feed.xml"
to = "/blog/index.xml"

# The bridging article was moved from tutorial to topics
[[redirects]]
from = "/tokio/tutorial/bridging"
to = "/tokio/topics/bridging"
